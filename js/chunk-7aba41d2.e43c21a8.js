(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aba41d2"],{"15fb":function(e,a,t){"use strict";var n=t("4da2"),i=t.n(n);i.a},"4da2":function(e,a,t){},"99af":function(e,a,t){"use strict";var n=t("23e7"),i=t("d039"),o=t("e8b5"),r=t("861d"),s=t("7b0b"),c=t("50c4"),d=t("8418"),l=t("65f0"),u=t("1dde"),f=t("b622"),h=t("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=u("concat"),_=function(e){if(!r(e))return!1;var a=e[p];return void 0!==a?!!a:o(e)},k=!m||!b;n({target:"Array",proto:!0,forced:k},{concat:function(e){var a,t,n,i,o,r=s(this),u=l(r,0),f=0;for(a=-1,n=arguments.length;a<n;a++)if(o=-1===a?r:arguments[a],_(o)){if(i=c(o.length),f+i>g)throw TypeError(v);for(t=0;t<i;t++,f++)t in o&&d(u,f,o[t])}else{if(f>=g)throw TypeError(v);d(u,f++,o)}return u.length=f,u}})},d76c:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"market-popularity"},[n("a-select",{staticStyle:{width:"100%",padding:"10px"},attrs:{"show-search":"",value:e.searchValue,size:"large",placeholder:"搜索","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null},on:{search:e.handleSearch,change:e.handleChange}},[n("a-icon",{attrs:{slot:"suffixIcon",type:"search"},slot:"suffixIcon"}),e._l(e.searchOptions,(function(a){return n("a-select-option",{key:a.code},[e._v(" "+e._s(a.code)+" -- "+e._s(a.name)+" ")])}))],2),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":e.busy,"infinite-scroll-distance":10}},[n("a-table",{attrs:{pagination:!1,handleInfiniteOnLoad:"",columns:e.table_columns,"data-source":e.table_data,customRow:e.click,rowKey:"id",scroll:{x:480}},scopedSlots:e._u([{key:"rank",fn:function(a){return n("div",{},[n("div",{staticClass:"bigtxt"},[e._v(e._s(a))])])}},{key:"codeName",fn:function(a){return n("div",{},[n("div",{staticClass:"bigtxt"},[e._v(e._s(a.name))]),n("div",[e._v(e._s(a.code))])])}},{key:"jiaozuori",fn:function(a){return n("div",{},[a.isUp?n("img",{attrs:{src:t("31c8"),width:"16px"}}):n("img",{style:0==a.value?"display:none":"display:true",attrs:{src:t("62bc"),width:"16px"}}),n("span",{staticClass:"bigtxt"},[e._v(e._s(a.value))])])}},{key:"xianjia",fn:function(a){return n("div",{},[n("div",{class:a.up?"red bignum":"green bignum"},[e._v(" "+e._s(a.value)+" ")])])}},{key:"zhangdiefu",fn:function(a){return n("div",{},[n("div",{class:{"red bignum":Number(a)>0,"green bignum":Number(a)<0,"gray bignum":0===Number(a)}},[e._v(" "+e._s(a)+"% ")])])}}])}),e.loading&&!e.busy?n("div",{staticClass:"demo-loading-container"},[n("a-spin")],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.alreadyBottom,expression:"alreadyBottom"}],staticStyle:{"text-align":"center"}},[e._v("到底啦")])],1)],1)},i=[],o=(t("99af"),t("d3b7"),[{title:"代码名称",dataIndex:"codeName",key:"codeName",scopedSlots:{customRender:"codeName"}},{title:"排名",dataIndex:"rank",key:"rank",scopedSlots:{customRender:"rank"},align:"center"},{title:"较昨日",dataIndex:"jiaozuori",key:"jiaozuori",scopedSlots:{customRender:"jiaozuori"},align:"center"},{title:"现价",dataIndex:"xianjia",key:"xianjia",scopedSlots:{customRender:"xianjia"},align:"right"},{title:"涨跌幅",dataIndex:"zhangdiefu",key:"zhangdiefu",scopedSlots:{customRender:"zhangdiefu"},align:"right"}]),r=[{rank:0,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"-8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!1}},{rank:1,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"+8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!0}},{rank:2,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"+8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!0}},{rank:3,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"+8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!0}},{rank:4,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"+8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!0}},{rank:5,codeName:{name:"阿里巴巴",code:"6003001"},zhangdiefu:"+8.80",xianjia:{value:"6",isUp:!1},jiaozuori:{value:"3",isUp:!0}}],s=t("3dfd"),c={data:function(){return{alreadyBottom:!1,loading:!1,busy:!1,table_columns:o,table_data:r,searchOptions:[],searchValue:void 0,current_page:0,totalPage:1}},activated:function(){document.getElementsByClassName("demo-infinite-container")[0].scrollTop=localStorage["market_popularity"]||0},methods:{click:function(e,a){var t=this;return{on:{click:function(){t.$router.push("/stock_detail/"+e.codeName.code)}}}},handleInfiniteOnLoad:function(){var e=this,a=this.table_data;this.loading=!0;var t=this.current_page+1;fetch(s["a"].baseUrl+"/api/popular/popularList.do?pageNo="+t+"&pageSize=10").then((function(e){return e.json()})).then((function(n){t<=n.totalPage?(n.rows&&(e.table_data=a.concat(n.rows)),e.loading=!1,e.current_page=n.pageNo,e.totalPage=n.totalPage):(console.log(n.pageNo+"--"+n.totalPage),e.loading=!1,e.alreadyBottom=!0)}))},handleSearch:function(e){var a=this;console.log("handleSearch"+e),fetch(s["a"].baseUrl+"/home/stockCodeFuzzy.do?stockCode="+e).then((function(e){return e.json()})).then((function(e){a.searchOptions=e.obj}))},handleChange:function(e){var a=this;""!=e&&"undefine"!=e||alert("输入数据不能为空"),this.searchValue=e,fetch(s["a"].baseUrl+"/api/popular/popular.do?stockCode="+e).then((function(e){return e.json()})).then((function(e){a.table_data=e.rows,a.current_page=e.pageNo,a.totalPage=e.totalPage})),this.searchValue=[]}}},d=c,l=(t("15fb"),t("2877")),u=Object(l["a"])(d,n,i,!1,null,"2d6cef0a",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-7aba41d2.e43c21a8.js.map