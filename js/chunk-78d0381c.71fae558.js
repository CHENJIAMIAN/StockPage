(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78d0381c"],{"4e22":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"search-page"}},[s("div",{staticClass:"search"},[s("a-input-search",{ref:"searchInput",attrs:{size:"large",placeholder:" 牛散、基金、机构名称"},on:{keyup:function(t){return e.whenInput(t)},blur:function(t){return e.closeHintsBox()},search:e.handleZhenguClick},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("a-icon",{staticClass:"class1",attrs:{slot:"prefix",type:"search"},slot:"prefix"}),s("a-button",{attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[e._v(" 搜索 ")])],1),s("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{searchkeyCode:e.searchkeyCode}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{searchkeyCode:e.sharehdtype}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.searchCauseError,expression:"searchCauseError"}],staticClass:"searchCauseError"},[s("span",{staticClass:"red",style:{fontSize:"8px"}},[e._v(e._s(e.errorMessage))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showHintsBox,expression:"showHintsBox"}],staticClass:"hintsbox ant-select-dropdown--single ant-select-dropdown-placement-bottomLeft"},[s("div",{staticClass:"ant-select-dropdown-content",staticStyle:{overflow:"auto",transform:"translateZ(0px)"},attrs:{tabindex:"-1"}},[s("ul",{staticClass:"hintslist ant-select-dropdown-menu ant-select-dropdown-menu-vertical ant-select-dropdown-menu-root"},e._l(e.hints,(function(t,a){return s("li",{key:t.code+t.name,ref:"hint",refInFor:!0,staticClass:"hint ant-select-dropdown-menu-item",on:{click:function(t){return e.fillInput(a)}}},[s("span",[e._v(e._s(t.name))]),s("span",{staticStyle:{display:"none"}},[e._v(e._s(t.code))]),s("span",{staticStyle:{display:"none"}},[e._v(e._s(t.sharehdtype))])])})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hotSearchShow,expression:"hotSearchShow"}],staticClass:"hot-search"},[e._m(0),s("div",{staticClass:"list-box"},e._l(e.listData,(function(t,a){return s("div",{key:a,staticClass:"list"},[s("div",{staticClass:"list-sort"}),s("div",{staticClass:"list-name"},[e._v(e._s(t.name))])])})),0)])],1),s("div",{staticClass:"top5-box"},[s("div",{staticClass:"title"},[e._v("牛散最新持股排名前10名")]),s("a-table",{attrs:{showHeader:!1,pagination:!1,columns:e.table_columns,"data-source":e.holderData,customRow:e.holderReviewClick,rowKey:"id",rowClassName:e.tableRowClass},scopedSlots:e._u([{key:"rank",fn:function(t){return s("div",{},[s("div",{staticClass:"content-sort"},[e._v(e._s(t))])])}},{key:"name",fn:function(t){return s("div",{},[s("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"total",fn:function(t){return s("div",{},[s("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"code",fn:function(t){return s("div",{},[s("div",{staticClass:"content-btn2-text"},[e._v("查看")])])}}])}),s("div",{staticClass:"showAll"},[s("div",{staticClass:"showAll-text",on:{click:function(t){return e.handleReview("1")}}},[e._v("查看全部")]),s("div",{staticClass:"showAll-icon"})])],1),s("div",{staticClass:"top5-box"},[s("div",{staticClass:"title"},[e._v("基金最新持股排名前10名")]),s("a-table",{attrs:{showHeader:!1,pagination:!1,columns:e.table_columns,"data-source":e.contentData,customRow:e.fundsReviewClick,rowKey:"id",rowClassName:e.tableRowClass},scopedSlots:e._u([{key:"rank",fn:function(t){return s("div",{},[s("div",{staticClass:"content-sort"},[e._v(e._s(t))])])}},{key:"name",fn:function(t){return s("div",{},[s("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"total",fn:function(t){return s("div",{},[s("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"code",fn:function(t){return s("div",{},[s("div",{staticClass:"content-btn2-text"},[e._v("查看")])])}}])}),s("div",{staticClass:"showAll"},[s("div",{staticClass:"showAll-text",on:{click:function(t){return e.handleReview("2")}}},[e._v("查看全部")]),s("div",{staticClass:"showAll-icon"})])],1)])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tips"},[s("div",{staticClass:"tips-icon"}),s("div",{staticClass:"tips-text"},[e._v("大家都在搜")])])}],o=(s("b0c0"),s("d3b7"),s("3dfd")),i={data:function(){return{searchKey:"",searchkeyCode:"",sharehdtype:"",table_columns:[{title:"排名",dataIndex:"rank",key:"rank",scopedSlots:{customRender:"rank"},align:"center"},{title:"代码名称",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"},width:110,align:"center"},{title:"数量",dataIndex:"total",key:"total",scopedSlots:{customRender:"total"},width:110,align:"center"},{title:"代码",dataIndex:"code",key:"code",scopedSlots:{customRender:"code"},align:"center"}],hints:[],searchCauseError:!1,errorMessage:"请输入牛散、基金、机构名称",searchSelect:!1,showHintsBox:!1,activeNo:-1,hotSearchShow:!0,listData:[{name:"赵建平",btn:"解锁"},{name:"吕强",btn:"解锁"},{name:"赵建平",btn:"查看"},{name:"华安创业板50指数",btn:"解锁"}],holderData:[{id:"0",name:"徐开东",total:"100",btn:"lock"},{id:"1",name:"吕强",total:"90",btn:"lock"}],contentData:[{id:"0",name:"吕强",total:"91",btn:"lock"},{id:"1",name:"吕强",total:"90",btn:"lock"}]}},activated:function(){var e=this,t=o["a"].baseUrl+"/api/holder/countHolder.do?sharehdtype=1&groupKey=sharehdname&pageNo=0&pageSize=10";fetch(t).then((function(e){return e.json()})).then((function(t){t.rows&&(e.holderData=t.rows)}));var s=o["a"].baseUrl+"/api/holder/countHolder.do?sharehdtype=2&groupKey=sharehdname&pageNo=0&pageSize=10";fetch(s).then((function(e){return e.json()})).then((function(t){t.rows&&(e.contentData=t.rows)}))},methods:{tableRowClass:function(e,t){return t<=2?"specific"+t:""},fundsReviewClick:function(e,t){var s=this;return{on:{click:function(){s.$router.push({path:"new_stakes",query:{sharehdcode:e.code,sharehdtype:"2"}})}}}},holderReviewClick:function(e,t){var s=this;return{on:{click:function(){s.$router.push({path:"new_stakes",query:{sharehdcode:e.code,sharehdtype:"1"}})}}}},holderReview:function(e,t){this.$router.push({path:"new_stakes",query:{sharehdcode:t,sharehdtype:e}})},handleReview:function(e){this.$router.push({path:"hold_ranking",query:{sharehdtype:e}})},handleZhenguClick:function(){var e=this.searchkeyCode,t=this.sharehdtype;return console.log("code===",e,"sharehdtype=",t),""==e||"undefined"==typeof e?(this.$refs.searchInput.focus(),this.errorMessage="请输入牛散、基金、机构名称",void(this.searchCauseError=!0)):this.searchCauseError?(this.$refs.searchInput.focus(),void(this.searchCauseError=!1)):this.searchSelect?(console.log(e),void this.$router.push({path:"new_stakes",query:{sharehdcode:e,sharehdtype:t}})):(this.searchCauseError=!0,this.$refs.searchInput.focus(),void(this.errorMessage="请选择搜索结果中匹配中的牛散/基金/机构名称"))},whenInput:function(e){var t=this.hints.length;return 40==e.keyCode?this.activeNo>=t-1?void console.log("到底了"):void this.activeNo++:38==e.keyCode?this.activeNo<=0?void console.log("到顶了"):void this.activeNo--:(13==e.keyCode&&this.fillInput(this.activeNo),void(this.searchKey?38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode&&this.getHintsList():this.closeHintsBox()))},getHintsList:function(){var e=this,t=o["a"].baseUrl;fetch(t+"/api/holder/stockCodeFuzzy.do?sharehdname="+this.searchKey).then((function(e){return e.json()})).then((function(t){null==t.obj?(e.searchCauseError=!0,e.$refs.searchInput.focus(),e.errorMessage="请输入正确的牛散/基金/机构名称"):1!=t.obj.length||e.searchKey!=t.obj[0].code&&e.searchKey!=t.obj[0].name?(e.searchCauseError=!1,e.searchSelect=!1):(e.searchCauseError=!1,e.searchSelect=!0),e.hints=t.obj||[],console.log("hints=",e.hints)})),this.showHintsBox=!0,this.hotSearchShow=!1},fillInput:function(e){console.log("fillInput=",e,",",this.hints[e]),this.searchKey=this.hints[e].name,this.searchkeyCode=this.hints[e].code,this.sharehdtype=this.hints[e].sharehdtype,this.showHintsBox=!1,this.searchSelect=!0,this.closeHintsBox()},closeHintsBox:function(){var e=this;setTimeout((function(){e.showHintsBox=!1,e.activeNo=-1}),280)}}},r=i,c=(s("a1dc"),s("2877")),h=Object(c["a"])(r,a,n,!1,null,"80182634",null);t["default"]=h.exports},a1dc:function(e,t,s){"use strict";var a=s("c5bc"),n=s.n(a);n.a},c5bc:function(e,t,s){}}]);
//# sourceMappingURL=chunk-78d0381c.71fae558.js.map