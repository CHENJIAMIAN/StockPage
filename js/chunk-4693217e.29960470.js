(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4693217e"],{4264:function(e,t,a){"use strict";var n=a("e5ef"),s=a.n(n);s.a},"99af":function(e,t,a){"use strict";var n=a("23e7"),s=a("d039"),o=a("e8b5"),r=a("861d"),i=a("7b0b"),d=a("50c4"),l=a("8418"),c=a("65f0"),h=a("1dde"),u=a("b622"),p=a("2d00"),f=u("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",v=p>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=h("concat"),m=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)},_=!v||!b;n({target:"Array",proto:!0,forced:_},{concat:function(e){var t,a,n,s,o,r=i(this),h=c(r,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?r:arguments[t],m(o)){if(s=d(o.length),u+s>g)throw TypeError(y);for(a=0;a<s;a++,u++)a in o&&l(h,u,o[a])}else{if(u>=g)throw TypeError(y);l(h,u++,o)}return h.length=u,h}})},"9a3f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"stakes-page"}},[a("div",{staticClass:"check-box"},[a("div",{staticClass:"title"},[e._v(" "+e._s(e.screenData.title)+" 最新持股")]),a("a-select",{staticStyle:{width:"10em"},attrs:{"default-value":"股东类型"},on:{change:e.onDateClick},model:{value:e.gdTypeSelected,callback:function(t){e.gdTypeSelected=t},expression:"gdTypeSelected"}},[a("a-select-option",{attrs:{value:"NSHDDETAIL"}},[e._v(" 十大流通股东 ")]),a("a-select-option",{attrs:{value:"HDDETAIL"}},[e._v(" 十大股东 ")])],1),a("a-select",{staticStyle:{width:"10em","margin-left":"10px"},attrs:{"default-value":"报告期"},on:{change:e.onDateClick},model:{value:e.reportDateSelected,callback:function(t){e.reportDateSelected=t},expression:"reportDateSelected"}},e._l(e.screenData.checkBoxList,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":e.busy,"infinite-scroll-distance":20}},[a("a-table",{attrs:{showHeader:!0,pagination:!1,columns:e.table_columns,"data-source":e.table_data,customRow:e.historyReview,rowKey:"id",scroll:{x:480}},scopedSlots:e._u([{key:"sname",fn:function(t){return a("div",{},[a("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"price",fn:function(t){return a("div",{},[a("div",{staticClass:"bigtxt "},[e._v(e._s(t))])])}},{key:"ltag",fn:function(t){return a("div",{},[a("div",{staticClass:"content-btn2-text"},[e._v(e._s(t))])])}},{key:"sharehdnum",fn:function(t){return a("div",{},[a("div",{staticClass:"content-btn2-text"},[e._v(e._s(t))])])}},{key:"bz",fn:function(t){return a("div",{},[a("div",{staticClass:"content-btn2-text"},[e._v(e._s(t))])])}}])}),e.loading&&!e.busy?a("div",{staticClass:"demo-loading-container"},[a("a-spin")],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.alreadyBottom,expression:"alreadyBottom"}],staticStyle:{"text-align":"center"}},[e._v("到底啦")])],1)])},s=[],o=(a("99af"),a("d3b7"),a("3dfd")),r={data:function(){return{alreadyBottom:!1,loading:!1,busy:!1,current_page:0,totalPage:1,table_columns:[{title:"股票名称",dataIndex:"sname",key:"sname",scopedSlots:{customRender:"sname"},width:110},{title:"预估成本",dataIndex:"price",key:"price",scopedSlots:{customRender:"price"},align:"center",width:90},{title:"市值",dataIndex:"ltag",key:"ltag",scopedSlots:{customRender:"ltag"},align:"center",width:90},{title:"数量",dataIndex:"sharehdnum",key:"sharehdnum",scopedSlots:{customRender:"sharehdnum"},align:"center"},{title:"变化",dataIndex:"bz",key:"bz",scopedSlots:{customRender:"bz"},align:"center"}],table_data:[],screenData:{title:"吕强",checkBoxList:["2020-09-30","2020-09-31"]},searchData:{reportDate:"2020-09-30",total:"50",holderListInfos:[{id:"1",sname:"拓邦股份",scode:"",price:"0",ltag:"0",sharehdnum:"0",bz:"不变"},{id:"2",sname:"拓邦股份",scode:"",price:"0",ltag:"0",sharehdnum:"0",bz:"不变"},{id:"3",sname:"拓邦股份",scode:"",price:"0",ltag:"0",sharehdnum:"0",bz:"不变"}]},reportDateSelected:"请选择报告日期",gdTypeSelected:"请选择股东类型"}},created:function(){},activated:function(){this.busy=!1,this.current_page=0,this.handleInfiniteOnLoad()},deactivated:function(){this.busy=!0},methods:{handleInfiniteOnLoad:function(){var e=this;this.busy=!0;var t=this.table_data;this.loading=!0;var a=this.current_page+1,n=this.$route.query,s=o["a"].baseUrl+"/api/holder/holderList.do?pageSize=10";null!=n&&null!=n.sharehdcode&&"undefined"!=n.sharehdcode&&(s+="&sharehdcode="+n.sharehdcode),null!=n&&null!=n.sharehdtype&&"undefined"!=n.sharehdtype&&(s+="&sharehdtype="+n.sharehdtype),"请选择股东类型"!=this.gdTypeSelected&&(s+="&gdType="+this.gdTypeSelected),"请选择报告日期"!=this.reportDateSelected&&(s+="&reportDate="+this.reportDateSelected),fetch(s+"&pageNo="+a).then((function(e){return e.json()})).then((function(n){if(console.log(n),a<=n.totalPage){if(n.rows){e.table_data=t.concat(n.rows[0].holderListInfos);var s=n.rows[0].holderListInfos[0].sharehdname;e.$emit("title",s.substring(0,10)+"最新持股"),console.log(n.rows[0].reportDates),e.screenData={title:s,checkBoxList:n.rows[0].reportDates}}e.loading=!1,e.current_page=n.pageNo,e.totalPage=n.totalPage}else console.log(n.pageNo+"--"+n.totalPage),e.loading=!1,e.alreadyBottom=!0})),this.busy=!1},historyReview:function(e,t){var a=this;return{on:{click:function(){var t=a.$route.query;null!=t&&null!=t.sharehdtype&&"undefined"!=t.sharehdtype?a.$router.push({path:"hold_history",query:{sharehdcode:e.sharehdcode,scode:e.scode,sharehdtype:t.sharehdtype}}):a.$router.push({path:"hold_history",query:{sharehdcode:e.sharehdcode,scode:e.scode}})}}}},onDateClick:function(e){var t=this;this.busy=!0;var a=[];this.loading=!0,this.current_page=0;var n=this.current_page+1,s=this.$route.query,r=o["a"].baseUrl+"/api/holder/holderList.do?pageSize=10";null!=s&&null!=s.sharehdcode&&"undefined"!=s.sharehdcode&&(r+="&sharehdcode="+s.sharehdcode),null!=s&&null!=s.sharehdtype&&"undefined"!=s.sharehdtype&&(r+="&sharehdtype="+s.sharehdtype),"请选择股东类型"!=this.gdTypeSelected&&(r+="&gdType="+this.gdTypeSelected),"请选择报告日期"!=this.reportDateSelected&&(r+="&reportDate="+this.reportDateSelected),fetch(r+"&pageNo="+n).then((function(e){return e.json()})).then((function(e){if(console.log(e),n<=e.totalPage){if(e.rows){t.table_data=a.concat(e.rows[0].holderListInfos);var s=e.rows[0].holderListInfos[0].sharehdname;t.$emit("title",s.substring(0,10)+"最新持股"),console.log(e.rows[0].reportDates),t.screenData={title:s,checkBoxList:e.rows[0].reportDates}}t.loading=!1,t.current_page=e.pageNo,t.totalPage=e.totalPage}else console.log(e.pageNo+"--"+e.totalPage),t.loading=!1,t.alreadyBottom=!0})),this.busy=!1}}},i=r,d=(a("4264"),a("2877")),l=Object(d["a"])(i,n,s,!1,null,"456d0b48",null);t["default"]=l.exports},e5ef:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4693217e.29960470.js.map